let pokemonRepo=function(){let e=[],t=document.querySelector(".modal");function n(){t.classList.remove("is-visible")}function o(t){e.push(t)}function i(e){let t=e.detailsURL;return fetch(t).then((function(e){return e.json()})).then((function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.type=t.types})).catch((function(e){console.error(e)}))}function l(e){i(e).then((function(){!function(e){$(".modal-body").html(`<img class = 'modal-img' src = ${e.imageUrl} style ='width:50%'> \n    <p> Height: ${e.height}</p>\n    `),$(".modal-title").html("<h1>"+e.name+"</h1>")}(e)}))}return window.addEventListener("keydown",(e=>{e.key===ESC&&t.classList.contains("is-visible")&&n()})),t.addEventListener("click",(e=>{e.target===t&&n()})),{add:o,getAll:function(){return e},addListItem:function(e){console.log(e);let t=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.classList.add("btn"),o.setAttribute("data-target","#exampleModal"),o.setAttribute("data-toggle","modal"),n.classList.add("list-group-item"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",(()=>{l(e)}))},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=100").then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){o({name:e.name.charAt(0).toUpperCase()+e.name.slice(1),detailsURL:e.url})}))})).catch((function(e){console.error(e)}))},loadDetails:i,showDetails:l}}();pokemonRepo.loadList().then((function(){pokemonRepo.getAll().forEach((function(e){console.log(e),pokemonRepo.addListItem(e)}))})),document.querySelector(".searchForm").addEventListener("input",(function(e){let t=document.querySelectorAll(".btn"),n=e.target.value.toLowerCase();t.forEach((function(e){e.innerText.toLowerCase().indexOf(n)>-1?e.style.display="":e.style.display="none"}))}));